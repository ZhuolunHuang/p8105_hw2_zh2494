p8105\_hw2\_zh2494
================
zhuolun
10/5/2021

# question 1

``` r
trash_df = 
  read_excel("data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",range = "A2:N408") %>%
  janitor::clean_names() %>% 
  na.omit(dumpster) %>%
  mutate(sports_balls = round(as.numeric(sports_balls),digits = 0))
view(trash_df)

trash_df_19 =
  read_excel("data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",range = "A2:B14",4) %>%
  janitor::clean_names(dat = .) %>%
  na.omit(month) %>%
  mutate(Year = "2019")
view(trash_df_19)

trash_df_18 =
  read_excel("data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",range = "A2:B14",5) %>% 
  janitor::clean_names(dat = .) %>%
  na.omit(dumpster) %>%
  mutate(Year = "2018")
view(trash_df_18)

trash_df_18_19 = 
  bind_rows(trash_df_18,trash_df_19) %>% 
  janitor::clean_names() %>%
  mutate(month = month.name[month]) %>% 
  select("year","month",everything())
view(trash_df_18_19)

median_choose = select(trash_df,dumpster,year)
median_choose = subset(median_choose, year == 2019)
median(pull(median_choose,dumpster))
```

    ## [1] 329.5

the total precipitation in 2018 is 70.33,the median number of sports
balls in a dumpster in 2019 is 329.5

# question 2

``` r
pols_month = 
  read_csv("./fivethirtyeight_datasets/pols-month.csv",col_types = "ccddiiii") %>% 
  janitor::clean_names() %>% 
  separate(mon, c("year","month","day")) %>% 
  mutate(
    month = month.name[as.numeric(month)],
    day = NULL,
    prez_dem = NULL,
    prez_gop = NULL) %>%
  pivot_longer(
    gov_gop:rep_dem,
    names_to = "president",
    values_to = "value")
view(pols_month)

snp = 
  read_csv("./fivethirtyeight_datasets/snp.csv", col_types = "ccddiiii") %>%
  janitor::clean_names() %>% 
  separate(date, c("year","month","day")) %>% 
  mutate(
    month = month.name[as.numeric(month)],
    day = NULL) %>% 
  select("year","month",everything())
view(snp)


unemployment = 
  read_csv("./fivethirtyeight_datasets/unemployment.csv") %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "value") %>% 
  mutate(year = as.character(year))
```

    ## Rows: 68 Columns: 13

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
view(unemployment)

final_df_1 =
  left_join(pols_month,snp,by = c("year","month"))

final_df = 
  left_join(final_df_1,unemployment,by = c("year","month"))
```
